//CHECKSUM:ff4d93067ad0473e98c4eb60e354e938afce287f34e2bb3864face6e09606104
{"version":3,"sources":["../actions/setGlobalVariable.js"],"names":["setGlobalVariable","name","value","expiry","output","key","bp","kvs","getGlobalStorageKey","setStorageWithExpiry","event","botId","temp","args"],"mappings":";;AAAA;;;;;;;;;;AAUA,MAAMA,iBAAiB,GAAG,OAAOC,IAAP,EAAaC,KAAb,EAAoBC,MAApB,EAA4BC,MAA5B,KAAuC;AAC/D,QAAMC,GAAG,GAAGC,EAAE,CAACC,GAAH,CAAOC,mBAAP,CAA2BP,IAA3B,CAAZ;AACA,QAAMK,EAAE,CAACC,GAAH,CAAOE,oBAAP,CAA4BC,KAAK,CAACC,KAAlC,EAAyCN,GAAzC,EAA8CH,KAA9C,EAAqDC,MAArD,CAAN;;AACA,MAAIC,MAAJ,EAAY;AACVQ,IAAAA,IAAI,CAACR,MAAD,CAAJ,GAAeF,KAAf;AACD;AACF,CAND;;AAQA,OAAOF,iBAAiB,CAACa,IAAI,CAACZ,IAAN,EAAYY,IAAI,CAACX,KAAjB,EAAwBW,IAAI,CAACV,MAA7B,EAAqCU,IAAI,CAACT,MAA1C,CAAxB","sourceRoot":"/var/lib/jenkins/workspace/build-linux/modules/builtin/src/backend","sourcesContent":["/**\n * Stores a variable globally, with optional expiry\n * @title Set global variable\n * @category Storage\n * @author Botpress, Inc.\n * @param {string} name - The name of the variable\n * @param {any} value - Set the value of the variable\n * @param {string} [expiry=never] - Set the expiry of the data, can be \"never\" or a short string like \"6 hours\"\n * @param {string} [output] - The state variable to output to\n */\nconst setGlobalVariable = async (name, value, expiry, output) => {\n  const key = bp.kvs.getGlobalStorageKey(name)\n  await bp.kvs.setStorageWithExpiry(event.botId, key, value, expiry)\n  if (output) {\n    temp[output] = value\n  }\n}\n\nreturn setGlobalVariable(args.name, args.value, args.expiry, args.output)\n"]}