//CHECKSUM:24bc58c7ae7e0b39d64feeb0e435f61e9b405f9370a2dd3a66dacbe047affb1f
{"version":3,"sources":["../actions/getNumberOfConversations.js"],"names":["getNumberOfConversations","output","userId","event","target","botId","key","bp","kvs","getUserStorageKey","value","getStorageWithExpiry","temp","args"],"mappings":";;AAAA;;;;;;;AAOA,MAAMA,wBAAwB,GAAG,MAAMC,MAAN,IAAgB;AAC/C,QAAMC,MAAM,GAAGC,KAAK,CAACC,MAArB;AACA,QAAMC,KAAK,GAAGF,KAAK,CAACE,KAApB;AACA,QAAMC,GAAG,GAAGC,EAAE,CAACC,GAAH,CAAOC,iBAAP,CAAyBP,MAAzB,EAAiC,uBAAjC,CAAZ;AACA,QAAMQ,KAAK,GAAG,MAAMH,EAAE,CAACC,GAAH,CAAOG,oBAAP,CAA4BN,KAA5B,EAAmCC,GAAnC,CAApB;AAEAM,EAAAA,IAAI,CAACX,MAAD,CAAJ,GAAeS,KAAf;AACD,CAPD;;AASA,OAAOV,wBAAwB,CAACa,IAAI,CAACZ,MAAN,CAA/B","sourceRoot":"/var/lib/jenkins/workspace/build-linux/modules/builtin/src/backend","sourcesContent":["/**\n * Get number of conversations\n * @title Get number of conversations\n * @category Storage\n * @author Botpress, Inc.\n * @param {string} output - The state variable to output the count to\n */\nconst getNumberOfConversations = async output => {\n  const userId = event.target\n  const botId = event.botId\n  const key = bp.kvs.getUserStorageKey(userId, 'numberOfConversations')\n  const value = await bp.kvs.getStorageWithExpiry(botId, key)\n\n  temp[output] = value\n}\n\nreturn getNumberOfConversations(args.output)\n"]}