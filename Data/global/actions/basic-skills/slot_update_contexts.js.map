//CHECKSUM:90503a84bbedbbe143f8921ad6a171808e1b6338d59dd2eb3e804d20e41c9fa2
{"version":3,"sources":["../actions/slot_update_contexts.js"],"names":["axios","require","updateContexts","intentName","botId","event","axiosConfig","bp","http","getAxiosConfigForBot","data","get","nluContexts","contexts","map","context","ttl","state","session","args"],"mappings":";;AAAA,MAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;AAEA;;;;;;;AAKA,MAAMC,cAAc,GAAG,MAAMC,UAAN,IAAoB;AACzC,QAAMC,KAAK,GAAGC,KAAK,CAACD,KAApB;AACA,QAAME,WAAW,GAAG,MAAMC,EAAE,CAACC,IAAH,CAAQC,oBAAR,CAA6BL,KAA7B,CAA1B;AACA,QAAM;AAAEM,IAAAA;AAAF,MAAW,MAAMV,KAAK,CAACW,GAAN,CAAW,oBAAmBR,UAAW,EAAzC,EAA4CG,WAA5C,CAAvB;AAEA,QAAMM,WAAW,GAAGF,IAAI,CAACG,QAAL,CAAcC,GAAd,CAAkBC,OAAO,IAAI;AAC/C,WAAO;AACLA,MAAAA,OADK;AAELC,MAAAA,GAAG,EAAE;AAFA,KAAP;AAID,GALmB,CAApB;AAMAX,EAAAA,KAAK,CAACY,KAAN,CAAYC,OAAZ,CAAoBN,WAApB,GAAkCA,WAAlC;AACD,CAZD;;AAcA,OAAOV,cAAc,CAACiB,IAAI,CAAChB,UAAN,CAArB","sourceRoot":"/var/lib/jenkins/workspace/build-linux/modules/basic-skills/src/backend","sourcesContent":["const axios = require('axios')\n\n/**\n * Update the session nluContexts for a specific intent\n * @hidden\n * @param intentName The name of the intent to get contexts from\n */\nconst updateContexts = async intentName => {\n  const botId = event.botId\n  const axiosConfig = await bp.http.getAxiosConfigForBot(botId)\n  const { data } = await axios.get(`/mod/nlu/intents/${intentName}`, axiosConfig)\n\n  const nluContexts = data.contexts.map(context => {\n    return {\n      context,\n      ttl: 1000\n    }\n  })\n  event.state.session.nluContexts = nluContexts\n}\n\nreturn updateContexts(args.intentName)\n"]}