//CHECKSUM:a3fa97206447dbcea2a0ff55a234eac80e53e8552c784ef6f65bc1eaaed44546
{"version":3,"sources":["../actions/increment.js"],"names":["axios","require","increment","name","group","axiosConfig","bp","http","getAxiosConfigForBot","event","botId","post","count","args"],"mappings":";;AAAA,MAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;AAEA;;;;;;;;;;;;;;;;;;AAgBA,MAAMC,SAAS,GAAG,OAAOC,IAAP,EAAaC,KAAb,EAAoBF,SAAS,GAAG,CAAhC,KAAsC;AACtD,QAAMG,WAAW,GAAG,MAAMC,EAAE,CAACC,IAAH,CAAQC,oBAAR,CAA6BC,KAAK,CAACC,KAAnC,CAA1B;AACA,QAAMV,KAAK,CAACW,IAAN,CACJ,yCADI,EAEJ;AAAER,IAAAA,IAAI,EAAG,GAAEA,IAAK,IAAGC,KAAM,EAAzB;AAA4BQ,IAAAA,KAAK,EAAEV;AAAnC,GAFI,EAGJG,WAHI,CAAN;AAKD,CAPD;;AASA,OAAOH,SAAS,CAACW,IAAI,CAACV,IAAN,EAAYU,IAAI,CAACT,KAAjB,EAAwBS,IAAI,CAACD,KAA7B,CAAhB","sourceRoot":"/var/lib/jenkins/workspace/build-linux/modules/analytics/src/backend","sourcesContent":["const axios = require('axios')\n\n/**\n * Decrements the value of a specific metric group.\n *\n * The group (optional) is useful when you need to compute a graph taking into account multiple variables.\n * For example, you could count the gender ratio by incrementing:\n *\n * Male -> `metric = gender` and `group = male`\n *\n * Female -> `metric = gender` and `group = female`\n *\n * @title Increment Metric\n * @category Analytics\n * @param {string} name The name of the metric\n * @param {string} [group=all] Optional group inside the metrics\n * @param {Number} [increment=1] The optional increment of the metric\n */\nconst increment = async (name, group, increment = 1) => {\n  const axiosConfig = await bp.http.getAxiosConfigForBot(event.botId)\n  await axios.post(\n    '/mod/analytics/custom_metrics/increment',\n    { name: `${name}~${group}`, count: increment },\n    axiosConfig\n  )\n}\n\nreturn increment(args.name, args.group, args.count)\n"]}